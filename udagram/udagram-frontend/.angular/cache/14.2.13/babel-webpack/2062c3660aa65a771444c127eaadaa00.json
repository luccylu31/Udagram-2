{"ast":null,"code":"import _regeneratorRuntime from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _classCallCheck from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar _a;\n\nimport { __awaiter, __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { ModalController } from '@ionic/angular';\nimport { AuthService } from '../services/auth.service';\n\nvar AuthLoginComponent = /*#__PURE__*/function () {\n  function AuthLoginComponent(formBuilder, auth, modal) {\n    _classCallCheck(this, AuthLoginComponent);\n\n    this.formBuilder = formBuilder;\n    this.auth = auth;\n    this.modal = modal;\n  }\n\n  return _createClass(AuthLoginComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.loginForm = this.formBuilder.group({\n        password: new FormControl('', Validators.required),\n        email: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')]))\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit($event) {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this = this;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              $event.preventDefault();\n\n              if (this.loginForm.valid) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              this.auth.login(this.loginForm.controls.email.value, this.loginForm.controls.password.value).then(function (user) {\n                _this.modal.dismiss();\n              }).catch(function (e) {\n                _this.error = e.statusText;\n                throw e;\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n    }\n  }]);\n}();\n\nAuthLoginComponent = __decorate([Component({\n  selector: 'app-auth-login',\n  templateUrl: './auth-login.component.html',\n  styleUrls: ['./auth-login.component.scss']\n}), __metadata(\"design:paramtypes\", [FormBuilder, AuthService, typeof (_a = typeof ModalController !== \"undefined\" && ModalController) === \"function\" ? _a : Object])], AuthLoginComponent);\nexport { AuthLoginComponent };","map":null,"metadata":{},"sourceType":"module"}