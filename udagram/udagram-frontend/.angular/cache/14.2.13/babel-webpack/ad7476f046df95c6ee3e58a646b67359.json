{"ast":null,"code":"import _classCallCheck from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\nvar _a;\n\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators, FormBuilder, FormControl } from '@angular/forms';\nimport { AuthService } from '../services/auth.service';\nimport { ModalController } from '@ionic/angular';\n\nvar AuthRegisterComponent = /*#__PURE__*/function () {\n  function AuthRegisterComponent(formBuilder, auth, modal) {\n    _classCallCheck(this, AuthRegisterComponent);\n\n    this.formBuilder = formBuilder;\n    this.auth = auth;\n    this.modal = modal;\n  }\n\n  return _createClass(AuthRegisterComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.registerForm = this.formBuilder.group({\n        password_confirm: new FormControl('', Validators.required),\n        password: new FormControl('', Validators.required),\n        email: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')])),\n        name: new FormControl('', Validators.compose([Validators.required, Validators.pattern('^[a-zA-Z0-9_.+-]+$')]))\n      }, {\n        validators: this.passwordsMatch\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit($event) {\n      var _this = this;\n\n      $event.preventDefault();\n\n      if (!this.registerForm.valid) {\n        return;\n      }\n\n      var newuser = {\n        email: this.registerForm.controls.email.value,\n        name: this.registerForm.controls.name.value\n      };\n      this.auth.register(newuser, this.registerForm.controls.password.value).then(function (user) {\n        _this.modal.dismiss();\n      }).catch(function (e) {\n        _this.error = e.statusText;\n        throw e;\n      });\n    }\n  }, {\n    key: \"passwordsMatch\",\n    value: function passwordsMatch(group) {\n      return group.controls.password.value === group.controls.password_confirm.value ? null : {\n        passwordsMisMatch: true\n      };\n    }\n  }]);\n}();\n\nAuthRegisterComponent = __decorate([Component({\n  selector: 'app-auth-register',\n  templateUrl: './auth-register.component.html',\n  styleUrls: ['./auth-register.component.scss']\n}), __metadata(\"design:paramtypes\", [FormBuilder, AuthService, typeof (_a = typeof ModalController !== \"undefined\" && ModalController) === \"function\" ? _a : Object])], AuthRegisterComponent);\nexport { AuthRegisterComponent };","map":null,"metadata":{},"sourceType":"module"}