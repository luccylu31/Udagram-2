{"ast":null,"code":"import _classCallCheck from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Udemy/Hosting AWS/Udagram/nd0067-c4-deployment-process-project-starter-online/udagram/udagram-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/*!\n * (C) Ionic http://ionicframework.com - MIT License\n */\nimport { r as registerInstance, d as createEvent, h, f as Host, i as getElement } from './index-7a952e7a.js';\nimport { h as inheritAttributes } from './helpers-da915de8.js';\nimport { b as getIonMode } from './ionic-global-81a1064f.js';\nvar imgCss = \":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}\";\nvar IonImgStyle0 = imgCss;\n\nvar Img = /*#__PURE__*/function () {\n  function Img(hostRef) {\n    var _this = this;\n\n    _classCallCheck(this, Img);\n\n    registerInstance(this, hostRef);\n    this.ionImgWillLoad = createEvent(this, \"ionImgWillLoad\", 7);\n    this.ionImgDidLoad = createEvent(this, \"ionImgDidLoad\", 7);\n    this.ionError = createEvent(this, \"ionError\", 7);\n    this.inheritedAttributes = {};\n\n    this.onLoad = function () {\n      _this.ionImgDidLoad.emit();\n    };\n\n    this.onError = function () {\n      _this.ionError.emit();\n    };\n\n    this.loadSrc = undefined;\n    this.loadError = undefined;\n    this.alt = undefined;\n    this.src = undefined;\n  }\n\n  return _createClass(Img, [{\n    key: \"srcChanged\",\n    value: function srcChanged() {\n      this.addIO();\n    }\n  }, {\n    key: \"componentWillLoad\",\n    value: function componentWillLoad() {\n      this.inheritedAttributes = inheritAttributes(this.el, ['draggable']);\n    }\n  }, {\n    key: \"componentDidLoad\",\n    value: function componentDidLoad() {\n      this.addIO();\n    }\n  }, {\n    key: \"addIO\",\n    value: function addIO() {\n      var _this2 = this;\n\n      if (this.src === undefined) {\n        return;\n      }\n\n      if (typeof window !== 'undefined' && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'isIntersecting' in window.IntersectionObserverEntry.prototype) {\n        this.removeIO();\n        this.io = new IntersectionObserver(function (data) {\n          /**\n           * On slower devices, it is possible for an intersection observer entry to contain multiple\n           * objects in the array. This happens when quickly scrolling an image into view and then out of\n           * view. In this case, the last object represents the current state of the component.\n           */\n          if (data[data.length - 1].isIntersecting) {\n            _this2.load();\n\n            _this2.removeIO();\n          }\n        });\n        this.io.observe(this.el);\n      } else {\n        // fall back to setTimeout for Safari and IE\n        setTimeout(function () {\n          return _this2.load();\n        }, 200);\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.loadError = this.onError;\n      this.loadSrc = this.src;\n      this.ionImgWillLoad.emit();\n    }\n  }, {\n    key: \"removeIO\",\n    value: function removeIO() {\n      if (this.io) {\n        this.io.disconnect();\n        this.io = undefined;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loadSrc = this.loadSrc,\n          alt = this.alt,\n          onLoad = this.onLoad,\n          loadError = this.loadError,\n          inheritedAttributes = this.inheritedAttributes;\n      var draggable = inheritedAttributes.draggable;\n      return h(Host, {\n        key: '14d24d65ec8e5522192ca58035264971b1ab883b',\n        class: getIonMode(this)\n      }, h(\"img\", {\n        key: '345ba155a5fdce5e66c397a599b7333d37d9cb1d',\n        decoding: \"async\",\n        src: loadSrc,\n        alt: alt,\n        onLoad: onLoad,\n        onError: loadError,\n        part: \"image\",\n        draggable: isDraggable(draggable)\n      }));\n    }\n  }, {\n    key: \"el\",\n    get: function get() {\n      return getElement(this);\n    }\n  }], [{\n    key: \"watchers\",\n    get: function get() {\n      return {\n        \"src\": [\"srcChanged\"]\n      };\n    }\n  }]);\n}();\n/**\n * Enumerated strings must be set as booleans\n * as Stencil will not render 'false' in the DOM.\n * The need to explicitly render draggable=\"true\"\n * as only certain elements are draggable by default.\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/draggable.\n */\n\n\nvar isDraggable = function isDraggable(draggable) {\n  switch (draggable) {\n    case 'true':\n      return true;\n\n    case 'false':\n      return false;\n\n    default:\n      return undefined;\n  }\n};\n\nImg.style = IonImgStyle0;\nexport { Img as ion_img };","map":null,"metadata":{},"sourceType":"module"}